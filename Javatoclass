@echo off
setlocal enabledelayedexpansion

echo ============================
echo Java Compilation Script
echo ============================
echo Make sure:
echo 1. The 'libs' folder (with JARs) is in the SAME folder as this .bat file.
echo 2. The .java file you want to compile is also in the SAME folder or its subfolders.
echo.

:: Ask for relative library folder (e.g., libs)
set /p LIBPATH=Enter relative path to your libraries folder (e.g. libs):

:: Ask for Java source file path (e.g., com\swiftmessage\dao\PerformOperation.java)
set /p SOURCE=Enter relative path to your Java file (e.g. com\swiftmessage\dao\PerformOperation.java):

:: Set the javac executable path (adjust if needed)
set "JAVAC=C:\Program Files (x86)\Java\jdk1.8.0_181\bin\javac.exe"

:: Compile the Java file
echo.
echo Compiling...
"%JAVAC%" -cp "%LIBPATH%\*" "%SOURCE%"

if %ERRORLEVEL% NEQ 0 (
    echo.
    echo ❌ Compilation failed. Please check your inputs and try again.
) else (
    echo.
    echo ✅ Compilation successful!
)

pause
